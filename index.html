<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TikSpark - Detector de Regalos de TikTok</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- PANTALLA DE LOGIN (Nueva) -->
    <div id="login-screen" class="login-overlay">
        <!-- Fondo animado/degradado -->
        <div class="login-background"></div>
        
        <div class="login-card" style="display: none;">
            <h2>Iniciar Sesi√≥n</h2>
            <p class="login-subtitle">Bienvenido a TikSpark</p>
            
            <div class="login-form-group">
                <label>Correo Electr√≥nico</label>
                <input type="text" id="login-username" placeholder="Ingresa tu correo electr√≥nico">
            </div>
            
            <div class="login-form-group">
                <label>Contrase√±a</label>
                <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                <i class="fas fa-eye password-toggle"></i>
            </div>

            <button id="btn-login-action">
                <i class="fas fa-sign-in-alt"></i> Iniciar Sesi√≥n
            </button>
            
            <div class="login-footer-links">
                <!-- Enlace para cambiar a modo Registro -->
                <p id="msg-login-mode">¬øNo tienes cuenta? <a href="#" id="btn-go-to-register">Reg√≠strate</a></p>
                
                <!-- Enlace para cambiar a modo Login (oculto por defecto) -->
                <p id="msg-register-mode" style="display: none;">¬øYa tienes cuenta? <a href="#" id="btn-go-to-login">Inicia Sesi√≥n</a></p>
            </div>
        </div>
        
        <div class="login-version-tag" id="login-version-tag">Cargando...</div>
    </div>

    <!-- Reemplaza todo tu <div id="sidebar"> con esto: -->

    <div id="sidebar">
        <!-- === ZONA FIJA (NO SCROLL) === -->
        <div id="sidebar-fixed-header">
            <!-- 1. Primera L√≠nea Separadora -->
            <div class="sidebar-separator"></div>

            <!-- 2. Contenedor Din√°mico (Perfil) -->
            <div id="sidebar-dynamic-content">
                <!-- OPCI√ìN A: Modo API Server -->
                <div id="header-server" class="sidebar-header-mode">
                    <div class="sidebar-profile-container">
                        <div class="sidebar-avatar">
                            <i id="sidebar-default-icon" class="fas fa-user"></i>
                            <img id="sidebar-profile-img" src="" alt="PFP" style="display: none;">
                        </div>
                        <div class="sidebar-info-col">
                            <span id="sidebar-username-display" class="sidebar-username-text">Tu Nombre</span>
                            <button id="sidebar-connect-btn" class="sidebar-small-btn">
                                <i class="fas fa-link"></i> Conectar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- OPCI√ìN B: Modo API TikFinity -->
                <div id="header-tikfinity" class="sidebar-header-mode hidden">
                    <div class="sidebar-profile-container">
                        <div class="sidebar-avatar">
                            <i class="fas fa-plug" id="tikfinity-default-icon"></i>
                            <img id="tikfinity-profile-img" src="" alt="PFP" style="display: none;">
                        </div>
                        <div class="sidebar-info-col">
                            <span class="sidebar-username-text" style="color: #e51351;">API TikFinity</span>
                            <span id="sidebar-tikfinity-status-text" style="font-size: 11px; color: #888;">Disconnected</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- L√≠nea final del header fijo -->
            <div class="sidebar-separator"></div>
        </div>

        <!-- === ZONA SCROLLABLE (MEN√ö) === -->
        <div id="sidebar-scroll-area">
            
            <div class="nav-item active" data-target="home-section">
                Inicio
            </div>
            <div class="nav-item" data-target="config-section">
                Configuraci√≥n
            </div>

            <!-- SEPARADOR RAYO (Antes de Acciones) -->
            <div class="menu-separator">
                <i class="fas fa-bolt"></i>
            </div>

            <!-- Bot√≥n Principal con flecha -->
            <div class="nav-item" id="btn-actions-main" data-target="actions-events-section">
                <span>Acciones y Eventos</span>
            </div>

            <!-- Sub-men√∫ oculto -->
            <div id="submenu-actions" class="sidebar-submenu">
                <div class="sub-nav-item" onclick="scrollToSection('profiles-section', 'btn-actions-main')">
                    <i class="fas fa-user-circle"></i> Perfiles
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('actions-list-container', 'btn-actions-main')">
                    <i class="fas fa-bolt"></i> Acciones
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('events-list-container', 'btn-actions-main')">
                    <i class="fas fa-calendar-alt"></i> Eventos
                </div>
            </div>
            
            <div class="nav-item" data-target="alerts-section">
                Alertas
            </div>

            <!-- SEPARADOR COMPUTADORA (Antes de Galer√≠a) -->
            <div class="menu-separator">
                <i class="fas fa-desktop"></i>
            </div>

            <div class="nav-item" id="btn-gallery-main" data-target="overlay-gallery">
                <span>Galer√≠a de Overlays</span>
            </div>

            <!-- Sub-men√∫ Galer√≠a Actualizado -->
            <div id="submenu-gallery" class="sidebar-submenu">
                <div class="sub-nav-item" onclick="scrollToSection('card-top-gifters', 'btn-gallery-main')">
                    <i class="fas fa-gift"></i> Top Gifters
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-top-likes', 'btn-gallery-main')">
                    <i class="fas fa-thumbs-up"></i> Top Likes
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-subasta', 'btn-gallery-main')">
                    <i class="fas fa-gavel"></i> Subasta
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-meta-win', 'btn-gallery-main')">
                    <i class="fas fa-trophy"></i> Meta Win
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-social-rotator', 'btn-gallery-main')">
                    <i class="fas fa-share-alt"></i> Social Rotator
                </div>
            </div>

            <div class="nav-item" id="btn-goals-main" data-target="goals-section">
                <span>Metas Overlays</span>
            </div>

            <!-- Sub-men√∫ Metas -->
            <div id="submenu-goals" class="sidebar-submenu">
                <div class="sub-nav-item" onclick="scrollToSection('card-goal-likes', 'btn-goals-main')">
                    <i class="fas fa-heart"></i> Likes
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-goal-follows', 'btn-goals-main')">
                    <i class="fas fa-user-plus"></i> Follows
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-goal-shares', 'btn-goals-main')">
                    <i class="fas fa-share-alt"></i> Shares
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-goal-viewers', 'btn-goals-main')">
                    <i class="fas fa-eye"></i> Viewer Count
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-goal-coins', 'btn-goals-main')">
                    <i class="fas fa-coins"></i> Coins Earned
                </div>
                <div class="sub-nav-item" onclick="scrollToSection('card-goal-fans', 'btn-goals-main')">
                    <i class="fas fa-star"></i> New Super Fans
                </div>
            </div>

            <div class="nav-item" data-target="gift-section">
                Gifts Overlays
            </div>

            <!-- SEPARADOR JUEGOS (Antes de Mini-Juegos) -->
            <div class="menu-separator">
                <i class="fas fa-gamepad"></i>
            </div>

            <div class="nav-item" data-target="minigames-section">
                Mini-Juegos
            </div>

        </div>
        <!-- Bot√≥n Cerrar Sesi√≥n (Nuevo) -->
        <div class="sidebar-footer-actions">
            <button id="btn-logout" class="sidebar-btn-logout">
                <i class="fas fa-sign-out-alt"></i> Cerrar sesi√≥n
            </button>
        </div>
        <div id="app-version"></div>
    </div>

    <div id="main-content">
        <div id="home-section" class="content-section active">

            <div class="connection-header">
                <div id="connection-mode-toggle">
                    <button id="toggle-api-server" class="toggle-btn active" data-target="api-server-panel">API Server</button>
                    <button id="toggle-api-tikfinity" class="toggle-btn" data-target="api-tikfinity-panel">API TikFinity</button>
                </div>
            </div>
            
            <!-- Panel para Conexi√≥n Directa (API Server) -->
            <div id="api-server-panel" class="connection-panel active">
                <div class="panel-header">
                    <div class="live-title-container">
                        <i class="fab fa-tiktok" style="color: #fe2c55; font-size: 1.2em;"></i>
                        <h3>TikTok Live</h3>
                    </div>
                    <p>Una vez que est√©s en directo, conecta la aplicaci√≥n a tu canal de TikTok.</p> 
                </div>
                <div class="panel-content connect-panel-row">
    
                    <!-- COLUMNA IZQUIERDA: ETIQUETA -->
                    <label for="username-input" class="connect-label">
                        Tu usuario de TikTok (<span style="color: #ff4d4d;">Requerido!</span>)
                    </label>
                    
                    <!-- COLUMNA DERECHA: INPUT Y BOTONES -->
                    <div class="connect-actions-area">
                        
                        <!-- 1. INPUT -->
                        <input type="text" id="username-input" placeholder="TikTok @username" style="width: 100%; box-sizing: border-box;">
                        
                        <!-- 2. FILA DE BOTONES -->
                        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                            
                            <button id="connect-button">
                                <i class="fas fa-link"></i> Conectar
                            </button>
                            
                            <button id="disconnect-button" disabled>
                                <i class="fas fa-unlink"></i> Desconectar
                            </button>
                            
                            <button id="emotes-button" disabled>
                                <i class="fas fa-smile"></i> Emotes
                            </button>

                            <button id="update-gifts-button" class="secondary-btn" style="margin-top: 0;">
                                <i class="fas fa-sync-alt"></i> Actualizar Regalos
                            </button>
                            
                        </div>

                    </div>
                </div>
            </div>
            
            <!-- Panel para Conexi√≥n con TikFinity -->
            <div id="api-tikfinity-panel" class="connection-panel">
                <div class="panel-header">
                    <h3>Event API <span class="provider-badge">TikFinity</span></h3>
                    <p>En caso de que la conexi√≥n directa no est√© disponible, usa este m√©todo...</p>
                </div>
                <div class="panel-content">
                    <div class="status-group">
                        <label>Estado:</label>
                        <span id="tikfinity-status" class="status-indicator disconnected">Disconnected</span>
                    </div>
                    
                    <!-- BOTONES CON ICONOS NUEVOS -->
                    <div class="button-group" style="display: flex; gap: 10px; margin-top: 15px;">
                        <button id="connect-tikfinity-button">
                            <i class="fas fa-plug"></i> Conectar
                        </button>
                        <button id="disconnect-tikfinity-button" disabled>
                            <i class="fas fa-power-off"></i> Desconectar
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Contenedor de Logs (se queda abajo) -->
            <div class="log-wrapper">
                <div id="status" class="status-bar">Desconectado.</div>
                <div id="log-container"></div>
            </div>

        </div>
        
        <div id="config-section" class="content-section">
            <div class="section-container">
                <h2>Configuraci√≥n</h2>
                <p>
                    Aqu√≠ puedes definir la configuraci√≥n b√°sica.
                </p>
            </div>

            <div class="section-container" id="servertap-section">
                <h2>Minecraft ServerTap</h2>
                
                <!-- Caja de informaci√≥n Superior -->
                <div class="info-box">
                    <p>
                        Si utilizas el plugin ServerTap, debes ingresar aqu√≠ tu nombre de jugador para usar el placeholder de {playername}.<br>
                        Si deja el campo en blanco, los comandos se ejecutar√°n para todos los jugadores en el servidor (@p).<br>
                        Elige entre el mod de TikFinity (para un jugador) o el plugin ServerTap (para servidores). ¬°No los uses juntos!
                    </p>
                </div>

                <!-- Enlaces de descarga -->
                <div class="mc-downloads">
                    <a href="https://modrinth.com/mod/tikfinity/version/1.1" target="_blank" class="mc-download-link">
                        <i class="fas fa-download"></i> Descarga TikFinity Minecraft Mod para Minecraft Fabric (solo para un jugador)
                    </a>
                    <a href="https://github.com/servertap-io/servertap/releases/download/v0.6.1/ServerTap-0.6.1.jar" target="_blank" class="mc-download-link">
                        <i class="fas fa-download"></i> Descarga ServerTap Plugin v0.6.1 para Minecraft (Java) (solo servidores)
                    </a>
                </div>

                <!-- WRAPPER NUEVO: Esto limitar√° el ancho de todo lo de abajo -->
                <div class="mc-limit-width">

                    <!-- Caja interna Gris Oscura -->
                    <div class="mc-inner-box">
                        
                        <!-- Input Nombre Jugador -->
                        <div class="mc-row-external">
                            <label for="mc-player-name">Nombre del Jugador</label>
                            <input type="text" id="mc-player-name" placeholder="(requerido para el plugin ServerTap)">
                        </div>

                        <!-- Texto de ayuda (Ahora DENTRO de la caja) -->
                        <div class="info-box">
                            La configuraci√≥n predeterminada deber√≠a funcionar en la mayor√≠a de los casos. Si usa ServerTap, puede leer en la documentaci√≥n c√≥mo cambiar la contrase√±a. Utilice el bot√≥n Probar para validar la conexi√≥n.
                        </div>

                        <!-- Inputs de conexi√≥n -->
                        <div class="mc-form-grid">
                            <div class="mc-row">
                                <label for="mc-ip">IP</label>
                                <input type="text" id="mc-ip" value="127.0.0.1" placeholder="localhost">
                            </div>
                            <div class="mc-row">
                                <label for="mc-port">Puerto</label>
                                <input type="number" id="mc-port" value="4567" placeholder="4567">
                            </div>
                            <div class="mc-row">
                                <label for="mc-key">Key</label>
                                <input type="password" id="mc-key" value="change_me" placeholder="change_me">
                            </div>
                        </div>

                        <!-- Bot√≥n a la derecha -->
                        <div class="mc-button-row">
                            <button id="test-mc-connection-btn" class="btn">Probar Conexi√≥n</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div id="actions-events-section" class="content-section">
            
            <div class="section-container">
                
                <h2>Acciones y Eventos</h2>
                
                <p>
                    Aqu√≠ puedes definir tus acciones y eventos personalizados (activadores). Por ejemplo, puedes mostrar un v√≠deo o una animaci√≥n sobre un regalo espec√≠fico.<br>
                    Para ello, primero debes definir la acci√≥n y luego el evento. Se requiere la superposici√≥n "Mis acciones" para OBS/LIVE Studio.<br>
                    Mira este v√≠deo para aprender c√≥mo funciona el sistema de acciones y eventos.
                </p>
                
            </div>

            <div class="section-container" id="profiles-section">
                <h2>Perfiles</h2>
                <p>Crea acciones y eventos √∫nicos para cada perfil. Cambia entre perfiles, agrega, edita o elim√≠nalos seg√∫n tus preferencias.</p>
            
                <div class="info-box">
                    <p>Solo debes importar tus perfiles aqu√≠, no lo hagas desde 'Inicio'.</p>
                </div>
            
                <div class="controls-toolbar">
                    <div class="profile-selector-wrapper">
                        <select id="profile-selector">
                            </select>
                    </div>
                    <div class="button-group">
                        <button id="create-profile-btn" class="btn"><i class="fas fa-plus"></i> Crear</button>
                        <button id="edit-profile-btn" class="btn"><i class="fas fa-edit"></i> Editar</button>
                        <button id="duplicate-profile-btn" class="btn"><i class="fas fa-copy"></i> Duplicar</button>
                        <button id="delete-profile-btn" class="btn btn-danger"><i class="fas fa-trash-alt"></i> Eliminar</button>
                    </div>
                    <div class="button-group">
                        <button id="export-profile-btn" class="btn btn-secondary"><i class="fas fa-file-export"></i> Exportar Perfil</button>
                        <button id="import-profile-btn" class="btn btn-secondary"><i class="fas fa-file-import"></i> Importar Perfil</button>
                    </div>
                </div>
            </div>

            <div class="list-view-container">
                <h2>Acciones</h2>
                <p class="help-text">¬øQu√© es lo que desea que suceda? Aqu√≠ puedes crear nuevas acciones y editar las existentes.<br>
                    Puede vincular estas acciones a los eventos a continuaci√≥n.</p>
                
                <div class="list-view-controls">
                    <div class="control-group">
                        <button class="action-button" id="create-action-button">+ Crear nueva acci√≥n</button>
                        <button class="action-button secondary" disabled>Eliminar acciones (0)</button>
                    </div>
                    <div class="search-wrapper">
                        <span>üîç</span>
                        <input type="text" placeholder="Buscar acciones...">
                    </div>
                </div>
                <div class="list-view-header action-header">
                    <input type="checkbox" class="header-checkbox">
                    <div></div>
                    <div>Nombre ‚Üï</div>
                    <div>Pantalla ‚Üï</div>
                    <div>Duraci√≥n (seg) ‚Üï</div>
                    <div>Descripci√≥n ‚Üï</div>
                </div>
                <div id="actions-list-container"></div>
                <div class="list-view-pagination"></div>
            </div>

            <div class="list-view-container">
                <h2>Eventos</h2>
                <p class="help-text">Aqu√≠ puede definir qu√© desencadenar√° sus acciones.</p>
                 <div class="list-view-controls">
                    <div class="control-group">
                        <button class="action-button" id="create-event-button">+ Crear nuevo evento</button>
                        <button class="action-button secondary" disabled>Eliminar eventos (0)</button>
                    </div>
                    <div class="search-wrapper">
                        <span>üîç</span>
                        <input type="text" placeholder="Buscar eventos...">
                    </div>
                </div>
                <div class="list-view-header event-header">
                    <input type="checkbox" class="header-checkbox">
                    <div>All</div>
                    <div>Activo ‚Üï</div>
                    <div>Type ‚Üï</div>
                    <div>Usuario ‚Üï</div>
                    <div>Trigger ‚Üï</div>
                    <div>Acciones ‚Üï</div>
                </div>
                <div id="events-list-container"></div>
                <div class="list-view-pagination"></div>
            </div>
        </div>
        
        <!-- === NUEVO: SECCI√ìN DE ALERTAS === -->
        <div id="alerts-section" class="content-section">
            <div class="section-container">
                <h2>Alertas</h2>
                <p>Esta es la forma m√°s f√°cil de reproducir sonidos y alertas de forma general al recibir regalos, seguidores, etc.</p>
            
                <div class="list-view-controls">
                    <div class="control-group">
                        <button class="action-button" id="create-alert-button">+ Crear nueva Alerta</button>
                    </div>
                    <div class="search-wrapper">
                        <span>üîç</span>
                        <input type="text" placeholder="Buscar alertas...">
                    </div>
                </div>
                <div class="list-view-header alert-header" style="display: grid; grid-template-columns: 110px 60px 1.5fr 1.5fr 130px 2fr; align-items: center;">
                    <div style="text-align: center;"></div> <!-- Columna botones (sin t√≠tulo) -->
                    <div style="text-align: center;">Activo</div>
                    <div>Acciones</div> <!-- Aqu√≠ va el Nombre de la Alerta -->
                    <div>Eventos</div>
                    <div style="text-align: center;">Duraci√≥n (seg)</div>
                    <div>Descripci√≥n</div> <!-- Nombre del video -->
                </div>
                <div id="alerts-list-container"></div>
                <div class="list-view-pagination" id="alerts-pagination"></div>
                
            </div>
        </div>
        <!-- === FIN DE LA SECCI√ìN DE ALERTAS === -->

        <div id="overlay-gallery" class="content-section">
    
            <div class="section-container" id="gallery-info-section">
                
                <h2>Galer√≠a de Overlays</h2>
                
                <p>
                    Aqu√≠ puede encontrar los overlays generales para la integraci√≥n en <strong>(Browser Source)</strong> o <strong>LIVE Studio (Link)</strong>.<br>
                    Todas las funciones est√°n divididas en widgets individuales para lograr la mayor flexibilidad posible en la alineaci√≥n.<br>
                    Para incluir los overlays que se enumeran a continuaci√≥n en Live Studio, copie la URL y p√©guela en una nueva fuente de enlace.
                </p>
                
                <div class="info-box">
                    <p>Para cambiar el color o la fuente de los Ovelays, haga clic en el bot√≥n "Personalizar" del overlay respectivo.</p>
                </div>
                
            </div>
            
            <div class="overlay-card-container" id="card-top-gifters">
                <div class="overlay-header">
                    <h3 class="overlay-title">Top Gifters</h3>
                    </div>

                <div class="overlay-url-actions">
                    <input type="text" value="interactiveapp.live/#/overlays/game/topgifters" readonly class="url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn">Copiar URL</button>
                        <button class="action-btn">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                        <button class="action-btn">Testear</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>
                
                <div class="overlay-content-layout">
                    
                    <div class="overlay-preview">
                        <p>Previsualizaci√≥n del Ranking va aqu√≠...</p>
                    </div>

                    <div class="overlay-config">
                        <div class="config-section">
                            <h4>Configuraci√≥n:</h4>
                            <div class="config-item">
                                <label for="activate-widget-topgifters">ACTIVAR WIDGET</label>
                                <input type="checkbox" id="activate-widget-topgifters" checked>
                            </div>
                            <div class="config-item">
                                <label for="rows-count-topgifters">FILAS (OVERLAY)</label>
                                <input type="number" id="rows-count-topgifters" value="6" min="1">
                                <small>(Ajusta el ancho del widget desde OBS o Live Studio)</small>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>

            <div class="overlay-card-container" id="card-top-likes">
                <div class="overlay-header">
                    <h3 class="overlay-title">Top Likes</h3>
                    </div>

                <div class="overlay-url-actions">
                    <input type="text" value="interactiveapp.live/#/overlays/game/toplikes" readonly class="url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn">Copiar URL</button>
                        <button class="action-btn">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                        <button class="action-btn">Testear</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>
                
                <div class="overlay-content-layout">
                    
                    <div class="overlay-preview">
                        <p>Previsualizaci√≥n del Ranking va aqu√≠...</p>
                    </div>

                    <div class="overlay-config">
                        <div class="config-section">
                            <h4>Configuraci√≥n:</h4>
                            <div class="config-item">
                                <label for="activate-widget-toplikes">ACTIVAR WIDGET</label>
                                <input type="checkbox" id="activate-widget-toplikes" checked>
                            </div>
                            <div class="config-item">
                                <label for="rows-count-toplikes">FILAS (OVERLAY)</label>
                                <input type="number" id="rows-count-toplikes" value="6" min="1">
                                <small>(Ajusta el ancho del widget desde OBS o Live Studio)</small>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <div class="overlay-card-container" id="card-subasta">
                <div class="overlay-header">
                    <h3 class="overlay-title" style="color: #38c172;">Subasta</h3>
                    <div class="premium-tag">SOLO PREMIUM</div>
                </div>

                <div class="subasta-controls-panel">
                    <div class="subasta-control-row">
                        <div class="subasta-control-group">
                            <label for="subasta-duration">Duraci√≥n:</label>
                            <input type="number" id="subasta-duration" value="300" min="1" class="subasta-input">
                        </div>
                        <div class="subasta-control-group">
                            <label for="subasta-snipe">Snipe:</label>
                            <input type="number" id="subasta-snipe" value="20" min="0" class="subasta-input">
                        </div>
                        <div class="subasta-control-group">
                            <label for="subasta-base">Base:</label>
                            <input type="number" id="subasta-base" value="1" min="1" class="subasta-input">
                        </div>
                        
                        <div class="subasta-timer-group">
                            <label>Tiempo:</label>
                            <div id="subasta-timer-display">--:--</div>
                        </div>

                        <div class="subasta-actions-group">
                            <label>Iniciar:</label>
                            <button class="action-btn icon-btn" title="Iniciar Subasta"><i class="fas fa-play"></i></button>
                        </div>
                        <div class="subasta-actions-group">
                            <label>Pausar:</label>
                            <button class="action-btn icon-btn" title="Pausar Subasta"><i class="fas fa-pause"></i></button>
                        </div>
                        <div class="subasta-actions-group">
                            <label>Reiniciar:</label>
                            <button class="action-btn icon-btn" title="Reiniciar"><i class="fas fa-redo"></i></button>
                        </div>
                        <div class="subasta-actions-group">
                            <label>Reset Total:</label>
                            <button class="action-btn icon-btn" title="Resetear Total"><i class="fas fa-stop"></i></button>
                        </div>
                    </div>
                </div>

                <div class="overlay-url-actions subasta-url">
                    <input type="text" value="http://127.0.0.1:5500/subasta.html" readonly class="url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn">Copiar URL</button>
                        <button class="action-btn">Testear</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <div class="overlay-content-layout subasta-layout">
                    
                    <div class="overlay-config subasta-config">
                        <div class="config-section subasta-config-section">
                            <h4>Configuraci√≥n</h4>
                            
                            <div class="config-item checkbox-row">
                                <input type="checkbox" id="activate-widget-subasta" checked>
                                <label for="activate-widget-subasta">ACTIVAR WIDGET</label>
                            </div>
                            <div class="config-item checkbox-row">
                                <input type="checkbox" id="snipe-extra-subasta" checked>
                                <label for="snipe-extra-subasta">SNIPE EXTRA</label>
                            </div>
                            <div class="config-item checkbox-row">
                                <input type="checkbox" id="sound-subasta" checked>
                                <label for="sound-subasta">SOUND</label>
                            </div>
                            
                            <div class="subasta-col-group">
                                <label for="filas-overlay">FILAS (OVERLAY)</label>
                                <input type="number" id="filas-overlay" value="3" min="1" max="10" class="subasta-input">
                            </div>
                            
                            <div class="config-item inline-inputs">
                                <div class="subasta-col-group">
                                    <label for="name-subasta">NOMBRE</label>
                                    <input type="text" id="name-subasta" placeholder="Ej. Pedro" class="subasta-input">
                                </div>
                                
                                <div class="subasta-col-group">
                                    <label for="coins-subasta">MONEDAS</label>
                                    <input type="number" id="coins-subasta" value="0" min="0" class="half-width-input">
                                </div>
                            </div>
                            
                            <button class="action-btn sum-coins-btn">Sumar Monedas</button>
                        </div>
                        <p class="subasta-info-text"><i class="fas fa-bolt" style="color: #ffc107;"></i> 20 Segundos Snipe !!</p>
                        <p class="subasta-info-text"><i class="fas fa-coins" style="color: #ffeb3b;"></i> MINIMO 1 MONEDAS</p>
                    </div>
                    
                    <div class="subasta-participants-panel">
                        <h4>Participantes</h4>
                        <div class="participants-header">
                            <div>#</div>
                            <div>JUGADOR</div>
                            <div>MONEDAS</div>
                            <div>ACCIONES</div>
                        </div>
                        <div class="participants-list">
                        </div>
                    </div>
                    
                </div>
            </div>

            <div class="overlay-card-container" id="card-meta-win">
                <div class="overlay-header">
                    <h3 class="overlay-title">Meta Win General 1</h3>
                </div>

                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/meta-win.html" readonly class="url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn">Copiar URL</button>
                        <button class="action-btn">Testear</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>
                <div id="meta-win-widget-1" class="meta-win-content">
                    <div class="meta-win-controls">
                        <h4 class="meta-win-title">
                            <img src="images/trophy.png" alt="Trofeo">
                            <span>Win Game</span>
                        </h4>
                        <div class="control-group-win">
                            <label for="meta-win-meta-input">META</label>
                            <button class="btn-win minus" data-target="meta-win-meta-input">-</button>
                            <input type="number" id="meta-win-meta-input" value="5"> 
                            <button class="btn-win plus" data-target="meta-win-meta-input">+</button>
                        </div>
                        <div class="control-group-win">
                            <label for="meta-win-conteo-input">CONTEO</label>
                            <button class="btn-win minus" data-target="meta-win-conteo-input">-</button>
                            <input type="number" id="meta-win-conteo-input" value="0">
                            <button class="btn-win plus" data-target="meta-win-conteo-input">+</button>
                        </div>
                    </div>
                    <div class="meta-win-preview">
                        <!-- Contenedor para el Iframe -->
                        <div style="width: 100%; height: 120px; overflow: hidden; background-color: #333; border-radius: 8px; border: 1px solid #444;">
                            <iframe 
                                src="http://127.0.0.1:5500/meta-win.html" 
                                style="width: 100%; height: 100%; border: none; pointer-events: none;"
                                scrolling="no">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <div class="overlay-card-container" id="card-social-rotator">
                <div class="overlay-header">
                    <h3 class="overlay-title">Social Media Rotator</h3>
                </div>

                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/social-rotator.html" readonly class="url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn">Copiar URL</button>
                        <button class="action-btn">Testear</button>
                        <button class="action-btn personalize-btn" id="btn-config-social-rotator">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- Previsualizaci√≥n REAL en el Dashboard -->
                <div class="overlay-content-layout">
                    <!-- Usamos un IFRAME para cargar el archivo real dentro de la app -->
                    <div class="overlay-preview" style="background: #252526; height: 180px; position: relative; overflow: hidden; border-radius: 8px;">
                        <iframe 
                            src="http://127.0.0.1:5500/social-rotator.html" 
                            style="width: 100%; height: 100%; border: none; transform: scale(0.8); pointer-events: none;"
                        ></iframe>
                    </div>
                </div>

            </div>

        </div>

        <div id="goals-section" class="content-section">
            <div class="section-container" id="goals-info-section">
                
                <h2>Metas Overlays</h2>
                
                <p>
                    ¬øQu√© objetivos tienes en tu transmisi√≥n? Define objetivos de "Me gusta", "Compartir", "Seguir", etc., en forma de indicadores de progreso.<br>
                    Para incluir los objetivos en OBS (Fuente del navegador) o LIVE Studio (Enlace), simplemente copia las URL.<br>
                    Puedes cambiar los colores haciendo clic en el bot√≥n "Personalizar".
                </p>
                
                <div class="info-box">
                    <p>Cada perfil tiene sus propias configuraciones de Overlays. Al cambiar de perfil, tambi√©n cambian tus ajustes.</p>
                </div>
                
            </div>

            <div class="overlay-card-container" id="card-goal-likes">
                <div class="overlay-header">
                    <h3 class="overlay-title">Likes</h3>
                </div>

                <!-- 1. NUEVO: Panel de Inputs (Arriba de tus botones) -->
                <div class="goal-inputs-container">
                    <div class="goal-input-item small">
                        <label>Meta:</label>
                        <input type="number" id="gl-meta-input" value="1000">
                    </div>
                    <div class="goal-input-item">
                        <label>Titulo:</label>
                        <input type="text" id="gl-title-input" value="Like Goal">
                    </div>
                    <div class="goal-input-item">
                        <label>Cuando se alcanza:</label>
                        <select id="gl-behavior-select">
                            <option value="increase">Aumentar Meta</option>
                            <option value="maintain">Mantener Meta (Loop)</option>
                            <option value="stop">Detener</option>
                        </select>
                    </div>
                    <div class="goal-input-item">
                        <label>Accion al finalizar:</label>
                        <select id="gl-action-select">
                            <option value="">Selecciona...</option>
                        </select>
                    </div>
                    <div class="goal-input-item checkbox">
                        <label>Activar Widget:</label>
                        <input type="checkbox" id="gl-active-check" checked>
                    </div>
                </div>

                <!-- 2. TUS BOTONES EXISTENTES (Con IDs agregados) -->
                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/goal-likes.html" readonly class="url-input" id="gl-url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn" id="gl-copy-btn">Copiar URL</button>
                        <button class="action-btn" id="gl-test-btn"><i class="fas fa-chevron-right"></i> Testear</button>
                        <button class="action-btn short-btn" id="gl-reset-btn">Cortar Meta</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- 3. NUEVO: Previsualizaci√≥n (Debajo de tus botones) -->
                <div class="goal-preview-box">
                    <div class="preview-iframe-wrapper">
                        <iframe 
                            src="http://127.0.0.1:5500/goal-likes.html" 
                            class="goal-iframe-preview"
                            scrolling="no">
                        </iframe>
                    </div>
                </div>

            </div>

            <div class="overlay-card-container" id="card-goal-follows">
                <div class="overlay-header">
                    <h3 class="overlay-title">Follows</h3>
                </div>

                <!-- 1. NUEVO: Panel de Inputs (Arriba de tus botones) -->
                <div class="goal-inputs-container">
                    <div class="goal-input-item small">
                        <label>Meta:</label>
                        <input type="number" id="gf-meta-input" value="100">
                    </div>
                    <div class="goal-input-item">
                        <label>Titulo:</label>
                        <input type="text" id="gf-title-input" value="Follow Goal">
                    </div>
                    <div class="goal-input-item">
                        <label>Cuando se alcanza:</label>
                        <select id="gf-behavior-select">
                            <option value="increase">Aumentar Meta</option>
                            <option value="maintain">Mantener Meta (Loop)</option>
                            <option value="stop">Detener</option>
                        </select>
                    </div>
                    <div class="goal-input-item">
                        <label>Accion al finalizar:</label>
                        <select id="gf-action-select">
                            <option value="">Selecciona...</option>
                        </select>
                    </div>
                    <div class="goal-input-item checkbox">
                        <label>Activar Widget:</label>
                        <input type="checkbox" id="gf-active-check" checked>
                    </div>
                </div>

                <!-- 2. TUS BOTONES EXISTENTES (Con IDs agregados) -->
                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/goal-follows.html" readonly class="url-input" id="gf-url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn" id="gf-copy-btn">Copiar URL</button>
                        <button class="action-btn" id="gf-test-btn"><i class="fas fa-chevron-right"></i> Testear</button>
                        <button class="action-btn short-btn" id="gf-reset-btn">Cortar Meta</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- 3. NUEVO: Previsualizaci√≥n (Debajo de tus botones) -->
                <div class="goal-preview-box">
                    <div class="preview-iframe-wrapper">
                        <iframe 
                            src="http://127.0.0.1:5500/goal-follows.html" 
                            class="goal-iframe-preview"
                            scrolling="no">
                        </iframe>
                    </div>
                </div>

            </div>

            <div class="overlay-card-container" id="card-goal-shares">
                <div class="overlay-header">
                    <h3 class="overlay-title">Shares</h3>
                </div>

                <!-- 1. NUEVO: Panel de Inputs (Arriba de tus botones) -->
                <div class="goal-inputs-container">
                    <div class="goal-input-item small">
                        <label>Meta:</label>
                        <input type="number" id="gs-meta-input" value="1000">
                    </div>
                    <div class="goal-input-item">
                        <label>Titulo:</label>
                        <input type="text" id="gs-title-input" value="Share Goal">
                    </div>
                    <div class="goal-input-item">
                        <label>Cuando se alcanza:</label>
                        <select id="gs-behavior-select">
                            <option value="increase">Aumentar Meta</option>
                            <option value="maintain">Mantener Meta (Loop)</option>
                            <option value="stop">Detener</option>
                        </select>
                    </div>
                    <div class="goal-input-item">
                        <label>Accion al finalizar:</label>
                        <select id="gs-action-select">
                            <option value="">Selecciona...</option>
                        </select>
                    </div>
                    <div class="goal-input-item checkbox">
                        <label>Activar Widget:</label>
                        <input type="checkbox" id="gs-active-check" checked>
                    </div>
                </div>

                <!-- 2. TUS BOTONES EXISTENTES (Con IDs agregados) -->
                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/goal-shares.html" readonly class="url-input" id="gs-url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn" id="gs-copy-btn">Copiar URL</button>
                        <button class="action-btn" id="gs-test-btn"><i class="fas fa-chevron-right"></i> Testear</button>
                        <button class="action-btn short-btn" id="gs-reset-btn">Cortar Meta</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- 3. NUEVO: Previsualizaci√≥n (Debajo de tus botones) -->
                <div class="goal-preview-box">
                    <!-- <div class="preview-iframe-wrapper">
                        <iframe 
                            src="http://127.0.0.1:5500/goal-shares.html" 
                            class="goal-iframe-preview"
                            scrolling="no">
                        </iframe>
                    </div> -->
                    <p style="color: #aaa; text-align: center;">Previsualizaci√≥n de Shares va aqu√≠...</p>
                </div>

            </div>

            <div class="overlay-card-container" id="card-goal-viewers">
                <div class="overlay-header">
                    <h3 class="overlay-title">Viewer Count</h3>
                </div>

                <!-- 1. NUEVO: Panel de Inputs (Arriba de tus botones) -->
                <div class="goal-inputs-container">
                    <div class="goal-input-item small">
                        <label>Meta:</label>
                        <input type="number" id="gv-meta-input" value="1000">
                    </div>
                    <div class="goal-input-item">
                        <label>Titulo:</label>
                        <input type="text" id="gv-title-input" value="Viewer Count Goal">
                    </div>
                    <div class="goal-input-item">
                        <label>Cuando se alcanza:</label>
                        <select id="gv-behavior-select">
                            <option value="increase">Aumentar Meta</option>
                            <option value="maintain">Mantener Meta (Loop)</option>
                            <option value="stop">Detener</option>
                        </select>
                    </div>
                    <div class="goal-input-item">
                        <label>Accion al finalizar:</label>
                        <select id="gv-action-select">
                            <option value="">Selecciona...</option>
                        </select>
                    </div>
                    <div class="goal-input-item checkbox">
                        <label>Activar Widget:</label>
                        <input type="checkbox" id="gv-active-check" checked>
                    </div>
                </div>

                <!-- 2. TUS BOTONES EXISTENTES (Con IDs agregados) -->
                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/goal-viewers.html" readonly class="url-input" id="gv-url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn" id="gv-copy-btn">Copiar URL</button>
                        <button class="action-btn" id="gv-test-btn"><i class="fas fa-chevron-right"></i> Testear</button>
                        <button class="action-btn short-btn" id="gv-reset-btn">Cortar Meta</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- 3. NUEVO: Previsualizaci√≥n (Debajo de tus botones) -->
                <div class="goal-preview-box">
                    <!-- <div class="preview-iframe-wrapper">
                        <iframe 
                            src="http://127.0.0.1:5500/goal-viewers.html" 
                            class="goal-iframe-preview"
                            scrolling="no">
                        </iframe>
                    </div> -->
                    <p style="color: #aaa; text-align: center;">Previsualizaci√≥n de Viewers va aqu√≠...</p>
                </div>

            </div>

            <div class="overlay-card-container" id="card-goal-coins">
                <div class="overlay-header">
                    <h3 class="overlay-title">Coins Earned</h3>
                </div>

                <!-- 1. NUEVO: Panel de Inputs (Arriba de tus botones) -->
                <div class="goal-inputs-container">
                    <div class="goal-input-item small">
                        <label>Meta:</label>
                        <input type="number" id="gc-meta-input" value="1000">
                    </div>
                    <div class="goal-input-item">
                        <label>Titulo:</label>
                        <input type="text" id="gc-title-input" value="Coins Earned Goal">
                    </div>
                    <div class="goal-input-item">
                        <label>Cuando se alcanza:</label>
                        <select id="gc-behavior-select">
                            <option value="increase">Aumentar Meta</option>
                            <option value="maintain">Mantener Meta (Loop)</option>
                            <option value="stop">Detener</option>
                        </select>
                    </div>
                    <div class="goal-input-item">
                        <label>Accion al finalizar:</label>
                        <select id="gc-action-select">
                            <option value="">Selecciona...</option>
                        </select>
                    </div>
                    <div class="goal-input-item checkbox">
                        <label>Activar Widget:</label>
                        <input type="checkbox" id="gc-active-check" checked>
                    </div>
                </div>

                <!-- 2. TUS BOTONES EXISTENTES (Con IDs agregados) -->
                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/goal-coins.html" readonly class="url-input" id="gc-url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn" id="gc-copy-btn">Copiar URL</button>
                        <button class="action-btn" id="gc-test-btn"><i class="fas fa-chevron-right"></i> Testear</button>
                        <button class="action-btn short-btn" id="gc-reset-btn">Cortar Meta</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- 3. NUEVO: Previsualizaci√≥n (Debajo de tus botones) -->
                <div class="goal-preview-box">
                    <!-- <div class="preview-iframe-wrapper">
                        <iframe 
                            src="http://127.0.0.1:5500/goal-coins.html" 
                            class="goal-iframe-preview"
                            scrolling="no">
                        </iframe>
                    </div> -->
                    <p style="color: #aaa; text-align: center;">Previsualizaci√≥n de Coins va aqu√≠...</p>
                </div>

            </div>

            <div class="overlay-card-container" id="card-goal-fans">
                <div class="overlay-header">
                    <h3 class="overlay-title">New Super Fans</h3>
                </div>

                <!-- 1. NUEVO: Panel de Inputs (Arriba de tus botones) -->
                <div class="goal-inputs-container">
                    <div class="goal-input-item small">
                        <label>Meta:</label>
                        <input type="number" id="gn-meta-input" value="1000">
                    </div>
                    <div class="goal-input-item">
                        <label>Titulo:</label>
                        <input type="text" id="gn-title-input" value="New Super Fans Goal">
                    </div>
                    <div class="goal-input-item">
                        <label>Cuando se alcanza:</label>
                        <select id="gn-behavior-select">
                            <option value="increase">Aumentar Meta</option>
                            <option value="maintain">Mantener Meta (Loop)</option>
                            <option value="stop">Detener</option>
                        </select>
                    </div>
                    <div class="goal-input-item">
                        <label>Accion al finalizar:</label>
                        <select id="gn-action-select">
                            <option value="">Selecciona...</option>
                        </select>
                    </div>
                    <div class="goal-input-item checkbox">
                        <label>Activar Widget:</label>
                        <input type="checkbox" id="gn-active-check" checked>
                    </div>
                </div>

                <!-- 2. TUS BOTONES EXISTENTES (Con IDs agregados) -->
                <div class="overlay-url-actions">
                    <input type="text" value="http://127.0.0.1:5500/goal-fans.html" readonly class="url-input" id="gn-url-input">
                    <div class="action-buttons">
                        <button class="action-btn primary-btn" id="gn-copy-btn">Copiar URL</button>
                        <button class="action-btn" id="gn-test-btn"><i class="fas fa-chevron-right"></i> Testear</button>
                        <button class="action-btn short-btn" id="gn-reset-btn">Cortar Meta</button>
                        <button class="action-btn personalize-btn">
                            <i class="fas fa-cog"></i> Personalizar
                        </button>
                    </div>
                </div>

                <!-- 3. NUEVO: Previsualizaci√≥n (Debajo de tus botones) -->
                <div class="goal-preview-box">
                    <!-- <div class="preview-iframe-wrapper">
                        <iframe 
                            src="http://127.0.0.1:5500/goal-fans.html" 
                            class="goal-iframe-preview"
                            scrolling="no">
                        </iframe>
                    </div> -->
                    <p style="color: #aaa; text-align: center;">Previsualizaci√≥n de Fans va aqu√≠...</p>
                </div>

            </div>

        </div>

        <div id="gift-section" class="content-section">
            
            <div class="section-container" id="gift-info-section">
                
                <h2>Gifts Overlays</h2>
                
                <p>
                    ¬°Convierte tus regalos en una batalla √©pica entre equipos!<br>
                    Usa estos overlays para enfrentar a tus espectadores y haz que el equipo m√°s generoso se lleve la gloria en tu stream.                    Puedes cambiar los colores haciendo clic en el bot√≥n "Personalizar".
                </p>
                
                <div class="info-box">
                    <p>Cada perfil tiene sus propias configuraciones de Overlays. Al cambiar de perfil, tambi√©n cambian tus ajustes.</p>
                </div>
                
            </div>

            <!-- UNA SOLA TARJETA CONTENEDORA -->
            <div class="overlay-card-container" id="card-gifts-combined">
                
                <!-- Checkbox opcional estilo TikFinity (solo visual por ahora) -->
                <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
                    <div class="config-item checkbox-row" style="background: transparent; padding: 0;">
                        <input type="checkbox" id="reset-stream-check">
                        <label for="reset-stream-check" style="font-size: 13px; color: #ccc;">Reset on new stream</label>
                    </div>
                </div>

                <!-- GRID DE 2 COLUMNAS -->
                <div class="gifts-grid-layout">
                    
                    <!-- COLUMNA IZQUIERDA: TOP GIFT -->
                    <div class="gift-column">
                        <div class="overlay-header compact">
                            <h3 class="overlay-title" style="color: #ff4d4d; font-size: 1.1em;">Mejor Regalo</h3>
                            <div class="premium-tag small">PRO</div>
                        </div>
                        <p class="overlay-description">El usuario que envi√≥ el regalo m√°s grande.</p>

                        <div class="overlay-url-actions compact">
                            <input type="text" value="http://127.0.0.1:5500/top-gift.html" readonly class="url-input" id="top-gift-url-input">
                                <button class="action-btn primary-btn copy-goal-btn" data-target="top-gift-url-input">Copiar</button>
                                
                                <!-- AGREGALE ESTE ID -->
                                <button class="action-btn" title="Resetear" id="btn-reset-top-gift">
                                    <i class="fas fa-redo"></i>
                                </button> 
                                
                                <button class="action-btn personalize-btn"><i class="fas fa-cog"></i></button>
                        </div>

                        <div class="gift-preview-box">
                            <div class="preview-iframe-wrapper">
                                <iframe src="http://127.0.0.1:5500/top-gift.html" class="gift-iframe-preview" scrolling="no"></iframe>
                            </div>
                        </div>
                    </div>

                    <!-- COLUMNA DERECHA: TOP STREAK -->
                    <div class="gift-column">
                        <div class="overlay-header compact">
                            <h3 class="overlay-title" style="color: #ff4d4d; font-size: 1.1em;">Top Streak</h3>
                            <div class="premium-tag small">PRO</div>
                        </div>
                        <p class="overlay-description">El usuario que ha enviado la racha m√°s larga.</p>

                        <div class="overlay-url-actions compact">
                            <input type="text" value="http://127.0.0.1:5500/top-streak.html" readonly class="url-input" id="top-streak-url-input">
                            <button class="action-btn primary-btn copy-goal-btn" data-target="top-streak-url-input">Copiar</button>

                            <!-- AGREGALE ESTE ID -->
                                <button class="action-btn" title="Resetear" id="btn-reset-top-streak">
                                    <i class="fas fa-redo"></i>
                                </button> 
                                
                                <button class="action-btn personalize-btn"><i class="fas fa-cog"></i></button>
                        </div>

                        <div class="gift-preview-box">
                            <div class="preview-iframe-wrapper">
                                <iframe src="http://127.0.0.1:5500/top-streak.html" class="gift-iframe-preview" scrolling="no"></iframe>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div id="minigames-section" class="content-section">
            <div class="section-container">
                <h2>Mini-Juegos</h2>
                <div class="info-box">
                    <p>TikSpark no incluye ni distribuye juegos comerciales. Ofrecemos √∫nicamente mods y plugins.</p>
                </div>

                <div class="games-grid">
                    <div class="game-card" onclick="openSection('section-cubo-tnt')">
                        <div class="game-img-container">
                            <img src="images/minigames/minecraft-tnt.jpg" alt="Cubo TNT">
                            <span class="version-badge">v1.0</span>
                        </div>
                        <div class="game-title">CUBO TNT</div>
                    </div>
                    <div class="game-card locked">
                        <div class="game-img-container">
                            <img src="images/minigames/sandbox.jpg" alt="Sandbox">
                            <div class="lock-overlay">
                                <i class="fas fa-lock"></i>
                                <span class="premium-badge">SOLO PREMIUM PLUS</span>
                            </div>
                        </div>
                        <div class="game-title">SANDBOX</div>
                    </div>
                    <div class="game-card locked">
                        <div class="game-img-container">
                            <img src="images/minigames/gta5.jpg" alt="GTA 5">
                            <div class="lock-overlay">
                                <i class="fas fa-lock"></i>
                                <span class="premium-badge">SOLO PREMIUM PLUS</span>
                            </div>
                        </div>
                        <div class="game-title">GTA 5</div>
                    </div>
                    <div class="game-card locked">
                        <div class="game-img-container">
                            <img src="images/minigames/eldenring.jpg" alt="Elden Ring">
                            <div class="lock-overlay">
                                <i class="fas fa-lock"></i>
                                <span class="premium-badge">SOLO PREMIUM PLUS</span>
                            </div>
                        </div>
                        <div class="game-title">ELDEN RING</div>
                    </div>
                    <div class="game-card" onclick="openSection('section-peak')">
                        <div class="game-img-container">
                            <img src="images/minigames/peak.jpg" alt="PEAK">
                            <span class="version-badge">v1.0</span>
                        </div>
                        <div class="game-title">PEAK</div>
                    </div>
                    <div class="game-card" onclick="openSection('section-supermarket-simulator')">
                        <div class="game-img-container">
                            <img src="images/minigames/supermarket-simulator.jpg" alt="Supermarket Simulator">
                            <span class="version-badge">v1.0</span>
                        </div>
                        <div class="game-title">SUPERMARKET SIMULATOR</div>
                    </div>
                    <div class="game-card" onclick="openSection('section-the-forest')">
                        <div class="game-img-container">
                            <img src="images/minigames/the-forest.jpg" alt="The Forest">
                            <span class="version-badge">v1.0</span>
                        </div>
                        <div class="game-title">THE FOREST</div>
                    </div>
                    <div class="game-card" onclick="openSection('section-lucky-wheel')">
                        <div class="game-img-container">
                            <img src="images/minigames/lucky-wheel.jpg" alt="Lucky Wheel">
                            <span class="version-badge">v1.0</span>
                        </div>
                        <div class="game-title">LUCKY WHEEL</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECCIONES DE JUEGOS INDIVIDUALES (VAN AFUERA DE minigames-section) -->

        <div id="section-cubo-tnt" class="content-section">
            <div class="section-container">
                <div class="game-header-row">
                    <button class="btn-back-purple" onclick="openSection('minigames-section')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 style="color: #8A2BE2;">Cubo TNT</h2>
                </div>
                <div class="game-dashboard-card">
                    <div class="dashboard-left">
                        <div class="dashboard-icon">
                            <img src="images/minigames/minecraft-tnt.jpg" alt="Icono Cubo TNT">
                        </div>
                        <h2>Cubo TNT</h2>
                        <div class="dashboard-meta">
                            <span class="meta-tag premium">Premium Plus</span>
                            <span class="meta-version">v1.0</span>
                        </div>
                    </div>
                    <div class="dashboard-right" style="background-image: url('images/minigames/minecraft-tnt.jpg');">
                        <div class="game-path-bar">
                            <div class="path-info">
                                <i class="fas fa-gamepad"></i>
                                <span id="cubo-tnt-game-path">No seleccionado...</span>
                            </div>
                            <button class="btn-select-path" id="btn-select-cubo-tnt-path">
                                Select Cubo TNT
                            </button>
                        </div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-install" id="btn-install-cubo-tnt">
                                Instalar Mod
                            </button>
                            <button class="btn-dashboard btn-delete" id="btn-delete-cubo-tnt">
                                Borrar Mod
                            </button>
                        </div>
                    </div>
                </div>
                <br>
                <div class="info-box">
                    <p>Recomendado: Ejecuta TikSpark en modo administrador y cierra el juego antes de instalar los mods.</p>
                </div>
            </div>
        </div>

        <div id="section-peak" class="content-section">
            <div class="section-container">
                <div class="game-header-row">
                    <button class="btn-back-purple" onclick="openSection('minigames-section')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 style="color: #8A2BE2;">PEAK</h2>
                </div>
                <div class="game-dashboard-card">
                    <div class="dashboard-left">
                        <div class="dashboard-icon">
                            <img src="images/minigames/peak.jpg" alt="Icono Peak">
                        </div>
                        <h2>PEAK</h2>
                        <div class="dashboard-meta">
                            <span class="meta-tag premium">Premium Plus</span>
                            <span class="meta-version">v1.0</span>
                        </div>
                    </div>
                    <div class="dashboard-right" style="background-image: url('images/minigames/peak.jpg');">
                        <div class="game-path-bar">
                            <div class="path-info">
                                <i class="fas fa-gamepad"></i>
                                <span id="peak-game-path">No seleccionado...</span>
                            </div>
                            <button class="btn-select-path" id="btn-select-peak-path">
                                Select PEAK
                            </button>
                        </div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-install" id="btn-install-peak">
                                Instalar Mod
                            </button>
                            <button class="btn-dashboard btn-delete" id="btn-delete-peak">
                                Borrar Mod
                            </button>
                        </div>
                    </div>
                </div>
                <br>
                <div class="info-box">
                    <p>Recomendado: Ejecuta TikSpark en modo administrador y cierra el juego antes de instalar los mods.</p>
                </div>
            </div>
        </div>

        <div id="section-supermarket-simulator" class="content-section">
            <div class="section-container">
                <div class="game-header-row">
                    <button class="btn-back-purple" onclick="openSection('minigames-section')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 style="color: #8A2BE2;">Supermarket Simulator</h2>
                </div>
                <div class="game-dashboard-card">
                    <div class="dashboard-left">
                        <div class="dashboard-icon">
                            <img src="images/minigames/supermarket-simulator.jpg" alt="Icono Supermarket Simulator">
                        </div>
                        <h2>Supermarket Simulator</h2>
                        <div class="dashboard-meta">
                            <span class="meta-tag premium">Premium Plus</span>
                            <span class="meta-version">v1.0</span>
                        </div>
                    </div>
                    <div class="dashboard-right" style="background-image: url('images/minigames/supermarket-simulator.jpg');">
                        <div class="game-path-bar">
                            <div class="path-info">
                                <i class="fas fa-gamepad"></i>
                                <span id="supermarket-simulator-game-path">No seleccionado...</span>
                            </div>
                            <button class="btn-select-path" id="btn-select-supermarket-simulator-path">
                                Select Supermarket Simulator
                            </button>
                        </div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-install" id="btn-install-supermarket-simulator">
                                Instalar Mod
                            </button>
                            <button class="btn-dashboard btn-delete" id="btn-delete-supermarket-simulator">
                                Borrar Mod
                            </button>
                        </div>
                    </div>
                </div>
                <br>
                <div class="info-box">
                    <p>Recomendado: Ejecuta TikSpark en modo administrador y cierra el juego antes de instalar los mods.</p>
                </div>
            </div>
        </div>

        <div id="section-the-forest" class="content-section">
            <div class="section-container">
                <div class="game-header-row">
                    <button class="btn-back-purple" onclick="openSection('minigames-section')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 style="color: #8A2BE2;">The Forest</h2>
                </div>

                <div class="game-dashboard-card">
                    <div class="dashboard-left">
                        <div class="dashboard-icon">
                            <img src="images/minigames/the-forest.jpg" alt="Icono The Forest">
                        </div>
                        <h2>The Forest</h2>
                        <div class="dashboard-meta">
                            <span class="meta-tag premium">Premium Plus</span>
                            <span class="meta-version">v1.0</span>
                        </div>
                    </div>

                    <div class="dashboard-right" style="background-image: url('images/minigames/the-forest.jpg');">
                        <div class="game-path-bar">
                            <div class="path-info">
                                <i class="fas fa-gamepad"></i>
                                <span id="the-forest-game-path">No seleccionado...</span>
                            </div>
                            <button class="btn-select-path" id="btn-select-the-forest-path">
                                Select The Forest
                            </button>
                        </div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-install" id="btn-install-the-forest">
                                Instalar Mod
                            </button>
                            <button class="btn-dashboard btn-delete" id="btn-delete-the-forest">
                                Borrar Mod
                            </button>
                        </div>
                    </div>
                </div>
                <br>
                <div class="info-box">
                    <p>Recomendado: Ejecuta TikSpark en modo administrador y cierra el juego antes de instalar los mods.</p>
                </div>
            </div>
        </div>

        <div id="section-lucky-wheel" class="content-section">
            <div class="section-container">
                <div class="game-header-row">
                    <button class="btn-back-purple" onclick="openSection('minigames-section')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 style="color: #8A2BE2;">Lucky Wheel</h2>
                </div>

                <div class="game-dashboard-card">
                    <div class="dashboard-left">
                        <div class="dashboard-icon">
                            <img src="images/minigames/lucky-wheel.jpg" alt="Icono Lucky Wheel">
                        </div>
                        <h2>Lucky Wheel</h2>
                        <div class="dashboard-meta">
                            <span class="meta-tag premium">Premium Plus</span>
                            <span class="meta-version">v1.0</span>
                        </div>
                    </div>

                    <div class="dashboard-right" style="background-image: url('images/minigames/lucky-wheel.jpg');">
                        <div class="game-path-bar">
                            <div class="path-info">
                                <i class="fas fa-gamepad"></i>
                                <span id="lucky-wheel-game-path">No seleccionado...</span>
                            </div>
                            <button class="btn-select-path" id="btn-select-lucky-wheel-path">
                                Select Lucky Wheel
                            </button>
                        </div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-install" id="btn-install-lucky-wheel">
                                Instalar Mod
                            </button>
                            <button class="btn-dashboard btn-delete" id="btn-delete-lucky-wheel">
                                Borrar Mod
                            </button>
                        </div>
                    </div>
                </div>
                <br>
                <div class="info-box">
                    <p>Recomendado: Ejecuta TikSpark en modo administrador y cierra el juego antes de instalar los mods.</p>
                </div>
            </div>
        </div>

        <!-- FIN DE LAS SECCIONES DE CONTENIDO PRINCIPAL -->
    </div>

    <!-- MODALES (VAN AFUERA DE #main-content) -->

    <!-- === NUEVO: MODAL PARA CREAR ALERTAS === -->
    <div id="create-alert-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="alert-modal-title">Nueva Alerta</h3>
                <button class="modal-close-button" id="close-alert-modal-button">&times;</button>
            </div>
            <input type="hidden" id="editing-alert-id" value="">
            <div class="form-group">
                <label for="alert-name">¬øC√≥mo se llama la alerta?</label>
                <input type="text" id="alert-name" placeholder="ej. Nuevo Seguidor">
            </div>

            <!-- Acciones Generales Simplificadas -->
            <div class="accordion">
                <div class="accordion-header active">Acciones Generales</div>
                <div class="accordion-content open">

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <!-- Checkbox principal para activar el men√∫ -->
                            <input type="checkbox" id="alert-action-play-audio">
                            <label for="alert-action-play-audio">Play Audio</label>
                        </div>
                        
                        <!-- Men√∫ Desplegable de Audio (Espec√≠fico para Alertas) -->
                        <div id="alert-audio-config" class="audio-config">
                            <!-- 1. Slider de Volumen -->
                            <div class="audio-control-group">
                                <label id="alert-volume-label">Volumen: 50</label>
                                <div class="volume-slider-container">
                                    <i class="fas fa-volume-down"></i>
                                    <input type="range" id="alert-audio-volume" min="0" max="100" value="50" class="volume-slider">
                                    <i class="fas fa-volume-up"></i>
                                </div>
                            </div>

                            <!-- 2. Botones de Archivo (¬°CON IDs NUEVOS AGREGADOS!) -->
                            <div class="audio-control-group file-upload-group">
                                <button class="audio-btn" id="alert-open-audio-list-btn">Abrir Lista de Audios</button>
                                <button class="audio-btn" id="alert-upload-audio-btn">Subir Archivo</button>
                                <span>o su√©ltalo aqu√≠</span>
                            </div>

                            <!-- 3. Opciones Extra -->
                            <div class="audio-control-group extra-options-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="alert-audio-oneshot">
                                    <label for="alert-audio-oneshot">Audio One-Shot</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="alert-audio-skip">
                                    <label for="alert-audio-skip">Skip Audio</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="alert-audio-add-queue">
                                    <label for="alert-audio-add-queue">A√±adir a la cola</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="alert-action-show-media" name="alert-action-type" value="media">
                            <label for="alert-action-show-media">Mostrar IMG / GIF / VIDEO</label>
                        </div>

                        <!-- NUEVO: Configuraci√≥n de Media (PARA ALERTAS) -->
                        <div id="alert-media-config" class="media-config" style="display:none; margin-left: 28px; margin-top: 10px;">
                            <div class="input-group-row">
                                <!-- ID cambiado a alert-selected-media-url -->
                                <input type="text" id="alert-selected-media-url" placeholder="URL del archivo o ruta local..." readonly>
                            </div>
                            <div class="audio-control-group file-upload-group">
                                <!-- IDs cambiados a alert-... -->
                                <button class="audio-btn" id="alert-open-media-list-btn">Abrir Lista de Archivos</button>
                                <button class="audio-btn" id="alert-upload-media-btn">Subir Archivo</button>
                                <span>o su√©ltalo aqu√≠</span>
                            </div>
                        </div>

                    </div>
                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="alert-action-show-alert" name="alert-action-type" value="alert">
                            <label for="alert-action-show-alert">Mostrar Alerta</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Duraci√≥n -->
            <h4 class="modal-section-title">¬øDurante cu√°nto tiempo debe permanecer visible?</h4>
            <div class="modal-sub-section">
                <div class="input-group-row">
                    <label for="alert-duration">Duraci√≥n</label>
                    <input type="number" id="alert-duration" value="5" min="1">
                    <span class="unit">Segundos</span>
                </div>
            </div>
            <h4 class="modal-section-title">Configuraciones adicionales (opcionales)</h4>
            <div class="modal-sub-section">
                <div class="input-group-row">
                    <label for="action-queue">Cola de Acciones</label>
                    <select id="action-queue">
                        <option value="Screen 1" selected>Screen 1</option>
                        <option value="Screen 2">Screen 2</option>
                        <option value="Screen 3">Screen 3</option>
                    </select>
                </div>
            </div>

            <!-- Eventos Generales (Copia del modal de eventos) -->
            <div class="accordion">
                <div class="accordion-header active">Eventos Generales</div>
                <div class="accordion-content open" style="padding: 0;">
                    <div class="event-modal-body" style="padding: 20px; gap: 20px;">
                        <div class="event-section">
                            <label class="event-section-title">¬øQui√©n puede activar el evento?</label>
                            <div class="event-radio-group">
                                <!-- Opciones de "Qui√©n" -->
                                <div class="radio-item"><input type="radio" id="alert-who-all" name="alert_who" value="all" checked><label for="alert-who-all">Todos</label></div>
                                <div class="radio-item"><input type="radio" id="alert-who-followers" name="alert_who" value="followers"><label for="alert-who-followers">Seguidores</label></div>
                                <div class="radio-item"><input type="radio" id="alert-who-subs" name="alert_who" value="subs"><label for="alert-who-subs">Suscriptores</label></div>
                                <div class="radio-item"><input type="radio" id="alert-who-mods" name="alert_who" value="mods"><label for="alert-who-mods">Moderadores</label></div>
                                <div class="radio-item"><input type="radio" id="alert-who-top" name="alert_who" value="top"><label for="alert-who-top">Top Gifters Rank</label></div>
                                <div class="radio-item"><input type="radio" id="alert-who-specific" name="alert_who" value="specific"><label for="alert-who-specific">Usuario espec√≠fico</label></div>
                            </div>

                            <!-- 1. CAMPO PARA USUARIOS ESPEC√çFICOS -->
                            <div class="event-input-row" id="alert-specific-user-input-container" style="display: none;">
                                <label>Pon el usuario</label>
                                <input type="text" id="alert-specific-users-list" placeholder="ej. pepito123, juanito, maria">
                            </div>

                        </div>
                        <div class="event-section">
                            <label class="event-section-title">¬øPor qu√© se activar√° el evento?</label>
                            <div class="event-radio-group">
                                <!-- Opciones de "Por qu√©" -->
                                <div class="radio-item"><input type="radio" id="alert-why-join" name="alert_why" value="join" checked><label for="alert-why-join">Join</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-share" name="alert_why" value="share"><label for="alert-why-share">Share</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-follow" name="alert_why" value="follow"><label for="alert-why-follow">Follow</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-superfan" name="alert_why" value="superfan"><label for="alert-why-superfan">Super Fan</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-likes" name="alert_why" value="likes"><label for="alert-why-likes">Likes (taps)</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-chat-global" name="alert_why" value="chat-global"><label for="alert-why-chat-global">Chat (global)</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-chat-comment" name="alert_why" value="chat-comment"><label for="alert-why-chat-comment">Chat (comentario)</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-emote" name="alert_why" value="emote"><label for="alert-why-emote">Emote (Fan Club)</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-gift-specific" name="alert_why" value="gift-specific"><label for="alert-why-gift-specific">Gift (regalo espec√≠fico)</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-gift-min" name="alert_why" value="gift-min"><label for="alert-why-gift-min">Gift (m√≠nimo coins)</label></div>
                                <div class="radio-item"><input type="radio" id="alert-why-gift-id" name="alert_why" value="gift-id"><label for="alert-why-gift-id">Gift (id espec√≠fico)</label></div>
                            </div>
                        </div>
                        <div class="event-section bottom-section" style="padding-top: 20px;">
                            <div id="dynamic-alert-event-fields">
                                <!-- Campos din√°micos como el selector de regalos -->
                                <!-- Campos din√°micos para ALERTAS -->
                                
                                <!-- 2. CAMPO PARA M√çNIMO DE MONEDAS -->
                                <div class="event-input-row" id="alert-min-coins-input-container" style="display: none;">
                                    <label>Definir un valor m√≠nimo de monedas</label>
                                    <div class="input-with-unit">
                                        <input type="number" id="alert-min-coins-amount" value="1" min="1">
                                        <span>Coins</span>
                                    </div>
                                </div>

                                <div class="event-input-row" id="alert-gift-specific-selector" style="display: none;">
                                    <label>Elige un regalo</label>
                                    <div class="custom-gift-selector" id="alert-custom-gift-selector">
                                        <input type="hidden" id="alert-selected-gift-id">
                                        <div class="gift-selector-display" id="alert-gift-selector-display">
                                            <span class="placeholder">Selecciona...</span>
                                        </div>
                                        <div class="gift-selector-options" id="alert-gift-selector-options">
                                            <input type="text" class="gift-search-input" id="alert-gift-search-input" placeholder="Buscar regalo...">
                                            <div class="gift-options-list" id="alert-gift-options-list"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="event-input-row" id="alert-likes-amount-selector" style="display: none;">
                                    <label for="alert-likes-amount">Definir una cantidad de likes</label>
                                    <div class="input-with-unit">
                                        <input type="number" id="alert-likes-amount" value="20" min="1">
                                        <span>Likes</span>
                                    </div>
                                </div>

                                <div class="event-input-row" id="alert-emote-selector-container" style="display: none;">
                                    <label>Elige un Emote</label>
                                    <div class="custom-gift-selector" id="alert-custom-emote-selector">
                                        <input type="hidden" id="alert-selected-emote-id">
                                        <div class="gift-selector-display" id="alert-emote-selector-display">
                                            <span class="placeholder">Selecciona un emote...</span>
                                        </div>
                                        <div class="gift-selector-options" id="alert-emote-options-list">
                                            <!-- Aqu√≠ se cargar√°n las im√°genes -->
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="event-input-row"><label for="event-cooldown">User Cooldown</label><div class="input-with-unit"><input type="number" id="event-cooldown" value="0" min="0"><span>Segundos</span></div></div>
                            <!-- LINK ID√âNTICO AL DE ACCIONES (Pero con ID diferente) -->
                            <a id="copy-media-overlay-link-alerts" data-url="http://127.0.0.1:5500/media.html" class="overlay-link" style="cursor: pointer;">http://127.0.0.1:5500/media.html</a>
                            <div class="info-message">¬°Ten en cuenta que tienes <strong>9 pantallas superpuestas</strong> disponibles y puedes asignar<br>m√∫ltiples acciones a cada pantalla! Las acciones en la misma pantalla se agregan a<br>una cola cuya longitud m√°xima puedes configurar m√°s abajo en esta p√°gina.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-modal-buttons">
                <button id="apply-alert-button">‚úÖ Aplicar</button>
                <button id="discard-alert-button">‚ùå Descartar</button>
            </div>
        </div>
    </div>
    <!-- === FIN DEL MODAL DE ALERTAS === -->

    <div id="create-profile-form-container" class="profile-form-overlay">
        <div class="profile-form-content">
            <h3>Nuevo Perfil</h3>
            <input type="text" id="new-profile-name-input" placeholder="Nombre del perfil...">
            <div class="profile-form-buttons">
                <button id="apply-new-profile-btn">‚úì Aplicar</button>
                <button id="discard-new-profile-btn">‚úó Descartar</button>
            </div>
        </div>
    </div>

    <div id="edit-profile-form-container" class="profile-form-overlay">
        <div class="profile-form-content">
            <h3>Editar Perfil</h3>
            <input type="text" id="edit-profile-name-input" placeholder="Nuevo nombre del perfil...">
            <div class="profile-form-buttons">
                <button id="apply-edit-profile-btn">‚úì Aplicar</button>
                <button id="discard-edit-profile-btn">‚úó Descartar</button>
            </div>
        </div>
    </div>

    <!-- MODAL DUPLICAR PERFIL -->
    <div id="duplicate-profile-form-container" class="profile-form-overlay">
        <div class="profile-form-content">
            <h3>Duplicar Perfil</h3>
            <input type="text" id="duplicate-profile-name-input" placeholder="Nombre de la copia...">
            <div class="profile-form-buttons">
                <button id="apply-duplicate-profile-btn">‚úì Duplicar</button>
                <button id="discard-duplicate-profile-btn">‚úó Cancelar</button>
            </div>
        </div>
    </div>

    <div id="delete-profile-modal" class="profile-form-overlay">
        <div class="profile-form-content">
            <h3>Confirmar Eliminaci√≥n</h3>
            <p id="delete-profile-message">¬øSeguro que quieres eliminar este perfil?</p>
            <div class="profile-form-buttons">
                <button id="confirm-delete-profile-btn">‚úì Aceptar</button>
                <button id="cancel-delete-profile-btn">‚úó Cancelar</button>
            </div>
        </div>
    </div>

    <div id="create-action-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h3 id="modal-title">Nueva Accion</h3><button class="modal-close-button" id="close-action-modal-button">&times;</button></div>
            <input type="hidden" id="editing-action-id" value=""><div class="form-group"><label for="action-name">¬øC√≥mo se llama la acci√≥n?</label><input type="text" id="action-name" placeholder="ej. Nuevo Seguidor" value=""></div>
            <div class="accordion">
                <div class="accordion-header active" id="general-actions-header">
                    Acciones Generales
                    <span>(m√∫ltiples opciones seleccionables)</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content open" id="general-actions-content">
                    
                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-minecraft"><label for="action-minecraft">Comandos Minecraft</label>
                        </div>
                        <div id="minecraft-config" class="webhook-config">
                            <label>Introduce un comando:</label>
                            <textarea id="minecraft-command" placeholder="Ej: summon zombie {playername}" style="width:100%; background:#252526; color:white; border:1px solid #505050; border-radius:4px; padding:10px; resize:vertical; min-height:80px; font-family:inherit;"></textarea>
                            
                            <div style="display:flex; gap:15px; margin-top:5px; font-size:12px;">
                                <a href="#" style="color:#10c35b; text-decoration:none;">üîó Lista de Placeholders</a>
                            </div>

                            <div class="input-inline-group" style="margin-top:10px;">
                                <div class="input-box">
                                    <div class="label-container"><label>Cantidad:</label></div>
                                    <div class="input-with-label"><span>#:</span><input type="number" id="minecraft-quantity" value="1" min="1"></div>
                                </div>
                                <div class="input-box">
                                    <div class="label-container"><label>Intervalo:</label></div>
                                    <div class="input-with-label"><input type="number" id="minecraft-interval" value="100" min="1"><span class="unit">ms</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-play-audio"><label for="action-play-audio">Play Audio</label>
                        </div>
                        <!-- Pega el nuevo bloque de c√≥digo aqu√≠ debajo -->
                        <div id="audio-config" class="audio-config">
                            <!-- Contenedor del Slider de Volumen -->
                            <div class="audio-control-group">
                                <label id="volume-label">Volumen: 50</label>
                                <div class="volume-slider-container">
                                    <i class="fas fa-volume-down"></i>
                                    <input type="range" id="audio-volume" min="0" max="100" value="50" class="volume-slider">
                                    <i class="fas fa-volume-up"></i>
                                </div>
                            </div>
                            <!-- Contenedor de Botones y Texto -->
                            <div class="audio-control-group file-upload-group">
                                <button class="audio-btn">Abrir Lista de Audios</button>
                                <button class="audio-btn">Subir Archivo</button>
                                <span>o su√©ltalo aqu√≠</span>
                            </div>
                            <!-- Contenedor de Checkboxes Adicionales -->
                            <div class="audio-control-group extra-options-group">
                                <div class="checkbox-item"><input type="checkbox" id="audio-oneshot"><label for="audio-oneshot">Audio One-Shot</label></div>
                                <div class="checkbox-item"><input type="checkbox" id="audio-skip"><label for="audio-skip">Skip Audio</label></div>
                                <div class="checkbox-item"><input type="checkbox" id="audio-add-queue"><label for="audio-add-queue">A√±adir a la cola</label></div>
                            </div>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-show-media"><label for="action-show-media">Mostrar IMG / GIF / VIDEO</label>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-show-alert"><label for="action-show-alert">Mostrar Alerta</label>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-simulate-keystrokes"><label for="action-simulate-keystrokes">Simular Keystrokes</label>
                        </div>
                        <div id="keystroke-config" class="keystroke-config">
                            <div id="keystroke-summary" class="keystroke-summary-box"></div>
                            <div class="keystroke-controls">
                                <div>
                                    <label>x</label>
                                    <input type="number" id="keystroke-repeat" value="1" min="1">
                                </div>
                                <div>
                                    <input type="number" id="keystroke-interval" value="250" min="0">
                                    <span>ms</span>
                                </div>
                                <input type="checkbox" id="keystroke-add-to-queue">
                                <label for="keystroke-add-to-queue">A√±adir a la Cola</label>
                            </div>
                            <div class="keystroke-links">
                                <a href="#" id="open-keystroke-editor-link">Expandir Editor</a>
                            </div>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-streamerbot"><label for="action-streamerbot">Streamer.bot Action</label>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-webhook"><label for="action-webhook">Comandos WebHook</label>
                        </div>
                        <div id="webhook-config" class="webhook-config">
                            <label for="webhook-url">Introduce un comando:</label>
                            <input type="text" id="webhook-url" placeholder="WebHook URL (https://example.com/trigger/eventos)" value="">
                            <div class="input-inline-group">
                                <div class="input-box">
                                    <div class="label-container"><label>Cantidad:</label></div>
                                    <div class="input-with-label"><span>#:</span><input type="number" id="webhook-quantity" value="1" min="1"></div>
                                </div>
                                <div class="input-box">
                                    <div class="label-container"><label>Intervalo:</label></div>
                                    <div class="input-with-label"><input type="number" id="webhook-interval" value="100" min="1"><span class="unit">ms</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-rcon"><label for="action-rcon">Conexi√≥n RCON</label>
                        </div>
                    </div>

                    <div class="checkbox-item">
                        <div class="checkbox-label-row">
                            <input type="checkbox" id="action-extra"><label for="action-extra">Acciones Extra</label>
                        </div>
                        <div id="extra-actions-config" class="extra-actions-config">

                            <div class="extra-action-group">
                                <label>Selecciona una opci√≥n:</label>
                                <div class="custom-select-wrapper">
                                    <img src="images/trophy.png" alt="Icono Win">
                                    <select id="extra-action-widget-selector">
                                        <option value="metaWin1" selected>Contador Win</option>
                                    </select>
                                </div>
                            </div>

                            <div class="extra-action-group">
                                <label>Selecciona una opci√≥n:</label>
                                <div class="custom-select-wrapper">
                                    <img src="images/sumar_icon.png" alt="Icono Operaci√≥n" id="extra-action-op-icon">
                                    <select id="extra-action-operation-selector">
                                        <option value="sumar" data-icon="images/sumar_icon.png" selected>1 Contador Win - Sumar</option>
                                        <option value="quitar" data-icon="images/quitar_icon.png" selected>1 Contador Win - Quitar</option>
                                        <option value="reset" data-icon="images/reset_icon.png" selected>1 Contador Win - Reset</option>
                                    </select>
                                </div>
                            </div>

                            <div class="extra-action-group">
                                <label for="extra-action-quantity">Cantidad:</label>
                                <div class="input-with-label">
                                    <span>#:</span>
                                    <input type="number" id="extra-action-quantity" value="1" min="1">
                                </div>
                            </div>

                         </div>
                    </div>
                    </div>
            </div>
            <h4 class="modal-section-title">¬øDurante cu√°nto tiempo debe permanecer visible?</h4><div class="modal-sub-section"><div class="input-group-row"><label for="display-duration">Duraci√≥n de la visualizaci√≥n</label><input type="number" id="display-duration" value="5" min="1"><span class="unit">Segundos</span></div></div>
            <h4 class="modal-section-title">Configuraciones adicionales (opcionales)</h4>
            <div class="modal-sub-section">
                <div class="input-group-row">
                    <label for="action-queue">Cola de Acciones</label>
                    <select id="action-queue">
                        <option value="Screen 1" selected>Screen 1</option>
                        <option value="Screen 2">Screen 2</option>
                        <option value="Screen 3">Screen 3</option>
                    </select>
                </div>
                <div class="input-group-row">
                    <label for="action-image">Imagen de Accion</label>
                    <input type="text" id="action-image" placeholder="www.imagen_ejemplo.png" value="">
                </div>
                <div class="input-group-row checkbox-align">
                    <label for="repeat-with-gift-combo">¬øRepetir con combo de regalos?</label>
                    <div class="checkbox-container">
                        <input type="checkbox" id="repeat-with-gift-combo">
                        <label for="repeat-with-gift-combo" style="font-style: italic; color: #b0b0b0;">
                            (Se ejecuta por cada regalo enviado)
                        </label>
                    </div>
                </div>
            </div>
            <a id="copy-media-overlay-link" data-url="http://127.0.0.1:5500/media.html" class="overlay-link" style="cursor: pointer;">http://127.0.0.1:5500/media.html</a>
            <div class="info-message">¬°Ten en cuenta que tienes <strong>9 pantallas superpuestas</strong> disponibles y puedes asignar<br>m√∫ltiples acciones a cada pantalla! Las acciones en la misma pantalla se agregan a<br>una cola cuya longitud m√°xima puedes configurar m√°s abajo en esta p√°gina.</div>
            <div class="action-modal-buttons"><button id="apply-action-button">‚úÖ Aplicar</button><button id="discard-action-button">‚ùå Descartar</button></div>
        </div>
    </div>

    <div id="audio-list-modal" class="modal-overlay">
        <div class="modal-content audio-list-content">
            <div class="modal-header">
                <h3>Lista de Audios</h3>
                <button class="modal-close-button" id="close-audio-list-modal">&times;</button>
            </div>

            <div class="audio-list-tabs">
                <!-- Por ahora, solo tenemos la pesta√±a de Audios Locales -->
                <div class="audio-tab active">Audios locales</div>
            </div>

            <!-- === PEGA EL NUEVO C√ìDIGO AQU√ç === -->
            <div class="myinstants-downloader">
                <div class="myinstants-search">
                    <input type="text" id="audio-search-input" placeholder="üîç Buscar audios...">
                    <span>Descarga m√°s sonidos de <a href="https://www.myinstants.com" target="_blank">Myinstants.com</a></span>
                </div>
                <div class="myinstants-add">
                    <input type="text" id="myinstants-url-input" placeholder="Ingresa URL www.myinstants.com/...">
                    <button id="add-myinstants-btn" class="audio-btn">
                        <i class="fas fa-download"></i> Agregar
                    </button>
                </div>
            </div>
            <!-- === FIN DEL C√ìDIGO A A√ëADIR === -->

            <div class="audio-list-body">
                <div class="local-audios-header">
                    <button class="audio-btn">Abrir Carpeta</button>
                    <span>Haz una copia de tus archivos locales antes de formatear o cambiar de equipo.</span>
                </div>
                <div id="local-audios-grid" class="local-audios-grid">
                    <!-- Los audios se cargar√°n aqu√≠ con JavaScript -->
                </div>
            </div>
        </div>
    </div>
    
    <div id="keystroke-editor-modal" class="modal-overlay">
        <div class="modal-content keystroke-editor">
            <div class="modal-header"><h3>Configurar Keystroke</h3><button class="modal-close-button" id="close-keystroke-modal-button">&times;</button></div>
            <p>Si quieres saber que tecla estas presionando, puedes testearlo <a href="#">aqu√≠</a>.</p>
            <div id="virtual-keyboard" class="virtual-keyboard">
                </div>
            <div class="keyboard-modifiers">
                <button data-key="control">Ctrl</button>
                <button data-key="alt">Alt</button>
                <button data-key="shift">Shift</button>
                <button data-key="space">SPACE</button>
            </div>
            <div class="mouse-actions">
                <button data-key="left_click">Left Click</button>
                <button data-key="middle_click">Middle Click</button>
                <button data-key="right_click">Right Click</button>
                <button data-key="text_input">Texto</button>
            </div>
            <div class="game-compatibility">
                <input type="checkbox" id="game-compat-check" checked>
                <label for="game-compat-check">Habilitar compatibilidad con juegos (GTA 5, Roblox, etc)</label>
            </div>
            
            <div id="keystroke-sequence-list" class="keystroke-sequence-list">
                </div>
            
            <div class="modal-footer">
                <button id="apply-keystroke-btn">‚úì Aplicar</button>
                <button id="discard-keystroke-btn">‚úó Descartar</button>
                <button id="test-keystroke-btn">Testear</button>
            </div>
        </div>
    </div>
    
    <div id="create-event-modal" class="modal-overlay">
        <div class="modal-content event-modal">
            <div class="modal-header"><h3 id="event-modal-title">Nuevo Evento</h3><button class="modal-close-button" id="close-event-modal-button">&times;</button></div>
            <input type="hidden" id="editing-event-id" value="">
            <div class="event-platform-tabs">
                <div class="event-tab active">
                    <i class="fab fa-tiktok"></i>
                    <span>TikTok</span>
                </div>
            </div>
            <div class="event-modal-scroll-content">
                <div class="event-modal-body">
                    <div class="event-section" id="event-who-section"><label class="event-section-title">¬øQui√©n puede activar el evento?</label><div class="event-radio-group"><div class="radio-item"><input type="radio" id="who-all" name="event_who" value="all" checked><label for="who-all">Todos</label></div><div class="radio-item"><input type="radio" id="who-followers" name="event_who" value="followers"><label for="who-followers">Seguidores</label></div><div class="radio-item"><input type="radio" id="who-subs" name="event_who" value="subs"><label for="who-subs">Suscriptores</label></div><div class="radio-item"><input type="radio" id="who-mods" name="event_who" value="mods"><label for="who-mods">Moderadores</label></div><div class="radio-item"><input type="radio" id="who-top" name="event_who" value="top"><label for="who-top">Top Gifters Rank</label></div><div class="radio-item"><input type="radio" id="who-specific" name="event_who" value="specific"><label for="who-specific">Usuario espec√≠fico</label></div></div></div>
                    <div class="event-section" id="event-why-section"><label class="event-section-title">¬øPor qu√© se activar√° el evento?</label><div class="event-radio-group"><div class="radio-item"><input type="radio" id="why-join" name="event_why" value="join" checked><label for="why-join">Join</label></div><div class="radio-item"><input type="radio" id="why-share" name="event_why" value="share"><label for="why-share">Share</label></div><div class="radio-item"><input type="radio" id="why-follow" name="event_why" value="follow"><label for="why-follow">Follow</label></div><div class="radio-item"><input type="radio" id="why-superfan" name="event_why" value="superfan"><label for="why-superfan">Super Fan</label></div><div class="radio-item"><input type="radio" id="why-likes" name="event_why" value="likes"><label for="why-likes">Likes (taps)</label></div><div class="radio-item"><input type="radio" id="why-chat-global" name="event_why" value="chat-global"><label for="why-chat-global">Chat (global)</label></div><div class="radio-item"><input type="radio" id="why-chat-comment" name="event_why" value="chat-comment"><label for="why-chat-comment">Chat (comentario)</label></div><div class="radio-item"><input type="radio" id="why-emote" name="event_why" value="emote"><label for="why-emote">Emote (Fan Club)</label></div><div class="radio-item"><input type="radio" id="why-gift-specific" name="event_why" value="gift-specific"><label for="why-gift-specific">Gift (regalo espec√≠fico)</label></div><div class="radio-item"><input type="radio" id="why-gift-min" name="event_why" value="gift-min"><label for="why-gift-min">Gift (m√≠nimo coins)</label></div><div class="radio-item"><input type="radio" id="why-gift-id" name="event_why" value="gift-id"><label for="why-gift-id">Gift (id espec√≠fico)</label></div></div></div>
                    <div class="event-section bottom-section">
                        <div id="dynamic-event-fields">
                            <div class="event-input-row" id="gift-specific-selector" style="display: none;">
                                <label>Elige un regalo</label>
                                <div class="custom-gift-selector" id="custom-gift-selector">
                                    <input type="hidden" id="selected-gift-id">
                                    <div class="gift-selector-display" id="gift-selector-display">
                                        <span class="placeholder">Selecciona...</span>
                                    </div>
                                    <div class="gift-selector-options" id="gift-selector-options">
                                        <input type="text" class="gift-search-input" id="gift-search-input" placeholder="Buscar regalo...">
                                        <div class="gift-options-list" id="gift-options-list"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="event-input-row" id="likes-amount-selector" style="display: none;">
                                <label for="likes-amount">Definir una cantidad de likes</label>
                                <div class="input-with-unit">
                                    <input type="number" id="likes-amount" value="20" min="1">
                                    <span>Likes</span>
                                </div>
                            </div>
                        </div>
                        <div class="event-input-row"><label>Activar todas estas acciones</label><div class="custom-multiselect" id="multi-select-all"><div class="multiselect-display"><span class="placeholder">Selecciona...</span></div><div class="multiselect-options"></div></div></div>
                        <div class="event-input-row"><label>Activa una de estas acciones (aleatorias)</label><div class="custom-multiselect" id="multi-select-random"><div class="multiselect-display"><span class="placeholder">Selecciona...</span></div><div class="multiselect-options"></div></div></div>
                        <div class="event-input-row"><label for="event-cooldown">User Cooldown</label><div class="input-with-unit"><input type="number" id="event-cooldown" value="0" min="0"><span>Segundos</span></div></div>
                        <div class="event-input-row"><label for="event-image">Imagen de Evento</label><input type="text" id="event-image" placeholder="www.imagen_ejemplo.png"></div>
                    </div>
                </div>
            </div>
            <div class="event-modal-footer"><button id="apply-event-button">‚úÖ Aplicar</button><button id="discard-event-button">‚ùå Descartar</button></div>
        </div>
    </div>
    
    <div id="toast-notification"></div>
    
    <!-- === MODAL SOCIAL ROTATOR SETTINGS === -->
    <div id="social-rotator-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3>Configurar Rotador Social</h3>
                <button class="modal-close-button" id="close-social-rotator-modal">&times;</button>
            </div>
            
            <div class="modal-body-scroll" style="max-height: 400px; overflow-y: auto; padding-right: 10px;">
                
                <!-- Ajustes Generales -->
                <h4 class="modal-section-title">Ajustes Generales</h4>
                <div class="form-group">
                    <label>Tiempo en pantalla (segundos)</label>
                    <input type="number" id="social-duration" value="5" min="1">
                </div>
                <div class="form-group">
                    <label>Tiempo de pausa entre redes (segundos)</label>
                    <input type="number" id="social-pause" value="2" min="0">
                </div>
                <div class="form-group">
                    <label>Animaci√≥n</label>
                    <select id="social-animation">
                        <option value="fade">Desvanecer (Fade)</option>
                        <option value="slide-up">Deslizar Arriba</option>
                        <option value="scale">Zoom / Pop</option>
                    </select>
                </div>

                <!-- Lista de Redes -->
                <h4 class="modal-section-title" style="margin-top: 20px;">Lista de Redes</h4>
                <div id="social-list-container">
                    <!-- Aqu√≠ se generar√°n los inputs din√°micamente con JS -->
                </div>

                <button id="add-social-field-btn" class="action-btn" style="width: 100%; margin-top: 10px; border: 1px dashed #555;">
                    <i class="fas fa-plus"></i> A√±adir Nueva Red
                </button>

            </div>

            <div class="modal-footer" style="margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button id="save-social-rotator-btn" class="btn">Guardar y Aplicar</button>
            </div>
        </div>
    </div>

    <!-- === MODAL LISTA DE ARCHIVOS MULTIMEDIA (FOTOS/VIDEOS) === -->
    <div id="media-list-modal" class="modal-overlay">
        <div class="modal-content media-list-content" style="width: 850px; background-color: #252526;">
            <div class="modal-header">
                <h3>Lista de Archivos</h3>
                <button class="modal-close-button" id="close-media-list-modal">&times;</button>
            </div>

            <div class="audio-list-tabs">
                <div class="audio-tab" id="tab-media-local">Archivos Locales</div>
                <div class="audio-tab active" id="tab-media-web">Archivos Web</div>
            </div>

            <div class="media-input-area" style="padding: 20px; border-bottom: 1px solid #3c3c3c; display: flex; gap: 10px;">
                <input type="text" id="new-media-url" placeholder="https://imgur.com/video.mp4" style="flex: 2;">
                <input type="text" id="new-media-name" placeholder="Nombre archivo" style="flex: 1;">
                <button id="add-new-media-btn" class="btn" style="background-color: #3c3c3c; width: 40px;">+</button>
            </div>

            <div class="media-grid-container" id="media-grid" style="padding: 20px; max-height: 400px; overflow-y: auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px;">
                <!-- Aqu√≠ se generar√°n las tarjetas con JS -->
            </div>
        </div>
    </div>

    <!-- === MODAL DE MENSAJES DEL SISTEMA (VERSI√ìN FINAL CON ESTILO) === -->
    <div id="system-message-modal" class="modal-overlay">
        <div class="modal-content" style="width: 450px;"> <!-- Ancho fijo un poco m√°s grande -->
            
            <div class="modal-header" style="background-color: #252526; padding: 15px; border-bottom: 1px solid #333;">
                <h3 id="sys-modal-title" style="margin: 0; font-size: 18px; width: 100%; text-align: center;">Mensaje</h3>
            </div>
            
            <!-- Cuerpo -->
            <div class="modal-body-custom">
                <!-- Icono grande -->
                <div id="sys-modal-icon" style="font-size: 60px; margin-bottom: 20px; margin-top: 10px;"></div>
                
                <!-- Mensaje -->
                <p id="sys-modal-message" style="color: #e0e0e0; font-size: 16px; line-height: 1.6; text-align: center; margin: 0;"></p>
                
                <!-- Detalles t√©cnicos (caja gris) -->
                <div id="sys-modal-details" style="background: #2b2b2b; padding: 15px; border-radius: 6px; font-size: 13px; color: #b0b0b0; margin-top: 20px; width: 100%; box-sizing: border-box; border: 1px solid #444; display: none;">
                </div>
            </div>

            <!-- Pie con bot√≥n separado -->
            <div class="modal-footer-custom">
                <button id="sys-modal-close-btn">Entendido</button>
            </div>
        </div>
    </div>

    <!-- DI√ÅLOGO PERSONALIZADO (Reemplazo de Alert/Confirm) -->
    <div id="custom-dialog" class="modal-overlay" style="z-index: 9999;">
        <div class="modal-content" style="max-width: 400px; text-align: center; border: 1px solid #444;">
            <div class="modal-header" style="justify-content: center; border-bottom: none; padding-bottom: 5px;">
                <h3 id="dialog-title" style="margin: 0; font-size: 18px;">TikSpark</h3>
            </div>
            
            <p id="dialog-message" style="color: #ccc; margin: 15px 0 25px 0; font-size: 15px;">Mensaje aqu√≠...</p>
            
            <div class="modal-footer" style="justify-content: center; padding-top: 0; gap: 15px;">
                <button id="btn-dialog-ok" class="btn">Aceptar</button>
                <button id="btn-dialog-cancel" class="btn" style="background: #444; display: none;">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- LIBRER√çAS FIREBASE (Versi√≥n Modular Compatible 8.10.1) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <script>
      // Tu configuraci√≥n REAL de Firebase
      var firebaseConfig = {
        apiKey: "AIzaSyCqXoC7bjkD7-v0K40lZUsp08quxPeTPXo",
        authDomain: "tikspark-app-f1402.firebaseapp.com",
        databaseURL: "https://tikspark-app-f1402-default-rtdb.firebaseio.com",
        projectId: "tikspark-app-f1402",
        storageBucket: "tikspark-app-f1402.firebasestorage.app",
        messagingSenderId: "886377587240", // (Opcional por ahora)
        appId: "1:886377587240:web:092116eda1c7437bc48b1d" // (Opcional por ahora)
      };
      
      // Inicializar Firebase
      firebase.initializeApp(firebaseConfig);
      
      // Referencias globales para usarlas en script.js
      const auth = firebase.auth();
      const db = firebase.database();
    </script>
    
    <script src="scripts/script.js"></script>
    <script src="scripts/meta-win.js"></script>
    <script src="scripts/subasta.js"></script>
    <script src="scripts/social-rotator.js"></script>
    <audio id="audio-player" style="display: none;"></audio>
    <input type="file" id="audio-file-input" accept=".mp3,.wav,.ogg" style="display: none;">
</body>
</html>